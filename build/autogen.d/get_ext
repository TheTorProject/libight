#!/bin/sh
set -e

get_repo_() {
    echo ""
    echo "> $3 (from github.com/$1 at $2)"
    branch=$4
    rm -rf src/libmeasurement_kit/ext/$3
    git clone --depth 1 --single-branch -b $2 https://github.com/$1 \
                    src/libmeasurement_kit/ext/$3
    echo ""
}

get_ext() {
    get_repo_ nodejs/http-parser v2.7.1 http-parser
    get_repo_ philsquared/Catch v1.5.6 Catch
}
